<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>OpenTracing.Reporting.Batch</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/OpenTracing.Reporting.Batch.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">opentracing-0.1.0.0: OpenTracing for Haskell</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">OpenTracing.Reporting.Batch</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module provides a trace reporter that groups recorded spans into batches
before sending them to their destination in bulk.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:BatchOptions">BatchOptions</a></li><li class="src short"><a href="#v:batchOptions">batchOptions</a> :: ([<a href="OpenTracing-Span.html#t:FinishedSpan" title="OpenTracing.Span">FinishedSpan</a>] -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> ()) -&gt; <a href="OpenTracing-Reporting-Batch.html#t:BatchOptions" title="OpenTracing.Reporting.Batch">BatchOptions</a></li><li class="src short"><a href="#v:boptBatchSize">boptBatchSize</a> :: <a href="../lens-4.17.1/Control-Lens-Type.html#t:Lens-39-" title="Control.Lens.Type">Lens'</a> <a href="OpenTracing-Reporting-Batch.html#t:BatchOptions" title="OpenTracing.Reporting.Batch">BatchOptions</a> <a href="../base-4.12.0.0/Data-Word.html#t:Word16" title="Data.Word">Word16</a></li><li class="src short"><a href="#v:boptTimeoutSec">boptTimeoutSec</a> :: <a href="../lens-4.17.1/Control-Lens-Type.html#t:Lens-39-" title="Control.Lens.Type">Lens'</a> <a href="OpenTracing-Reporting-Batch.html#t:BatchOptions" title="OpenTracing.Reporting.Batch">BatchOptions</a> <a href="../base-4.12.0.0/Data-Word.html#t:Word" title="Data.Word">Word</a></li><li class="src short"><a href="#v:boptReporter">boptReporter</a> :: <a href="../lens-4.17.1/Control-Lens-Type.html#t:Lens-39-" title="Control.Lens.Type">Lens'</a> <a href="OpenTracing-Reporting-Batch.html#t:BatchOptions" title="OpenTracing.Reporting.Batch">BatchOptions</a> ([<a href="OpenTracing-Span.html#t:FinishedSpan" title="OpenTracing.Span">FinishedSpan</a>] -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> ())</li><li class="src short"><a href="#v:boptErrorLog">boptErrorLog</a> :: <a href="../lens-4.17.1/Control-Lens-Type.html#t:Lens-39-" title="Control.Lens.Type">Lens'</a> <a href="OpenTracing-Reporting-Batch.html#t:BatchOptions" title="OpenTracing.Reporting.Batch">BatchOptions</a> (<a href="../binary-0.8.6.0/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a> -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> ())</li><li class="src short"><a href="#v:defaultErrorLog">defaultErrorLog</a> :: <a href="../binary-0.8.6.0/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a> -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><span class="keyword">data</span> <a href="#t:BatchEnv">BatchEnv</a></li><li class="src short"><a href="#v:newBatchEnv">newBatchEnv</a> :: <a href="OpenTracing-Reporting-Batch.html#t:BatchOptions" title="OpenTracing.Reporting.Batch">BatchOptions</a> -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="OpenTracing-Reporting-Batch.html#t:BatchEnv" title="OpenTracing.Reporting.Batch">BatchEnv</a></li><li class="src short"><a href="#v:closeBatchEnv">closeBatchEnv</a> :: <a href="OpenTracing-Reporting-Batch.html#t:BatchEnv" title="OpenTracing.Reporting.Batch">BatchEnv</a> -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:batchReporter">batchReporter</a> :: <a href="../base-4.12.0.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="OpenTracing-Reporting-Batch.html#t:BatchEnv" title="OpenTracing.Reporting.Batch">BatchEnv</a> -&gt; <a href="OpenTracing-Span.html#t:FinishedSpan" title="OpenTracing.Span">FinishedSpan</a> -&gt; m ()</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:BatchOptions" class="def">BatchOptions</a> <a href="src/OpenTracing.Reporting.Batch.html#BatchOptions" class="link">Source</a> <a href="#t:BatchOptions" class="selflink">#</a></p><div class="doc"><p>Options available to construct a batch reporter. Default options are
 available with <code><a href="OpenTracing-Reporting-Batch.html#v:batchOptions" title="OpenTracing.Reporting.Batch">batchOptions</a></code></p></div></div><div class="top"><p class="src"><a id="v:batchOptions" class="def">batchOptions</a> :: ([<a href="OpenTracing-Span.html#t:FinishedSpan" title="OpenTracing.Span">FinishedSpan</a>] -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> ()) -&gt; <a href="OpenTracing-Reporting-Batch.html#t:BatchOptions" title="OpenTracing.Reporting.Batch">BatchOptions</a> <a href="src/OpenTracing.Reporting.Batch.html#batchOptions" class="link">Source</a> <a href="#v:batchOptions" class="selflink">#</a></p><div class="doc"><p>Default batch options which can be overridden via lenses.</p></div></div><div class="top"><p class="src"><a id="v:boptBatchSize" class="def">boptBatchSize</a> :: <a href="../lens-4.17.1/Control-Lens-Type.html#t:Lens-39-" title="Control.Lens.Type">Lens'</a> <a href="OpenTracing-Reporting-Batch.html#t:BatchOptions" title="OpenTracing.Reporting.Batch">BatchOptions</a> <a href="../base-4.12.0.0/Data-Word.html#t:Word16" title="Data.Word">Word16</a> <a href="src/OpenTracing.Reporting.Batch.html#boptBatchSize" class="link">Source</a> <a href="#v:boptBatchSize" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:boptTimeoutSec" class="def">boptTimeoutSec</a> :: <a href="../lens-4.17.1/Control-Lens-Type.html#t:Lens-39-" title="Control.Lens.Type">Lens'</a> <a href="OpenTracing-Reporting-Batch.html#t:BatchOptions" title="OpenTracing.Reporting.Batch">BatchOptions</a> <a href="../base-4.12.0.0/Data-Word.html#t:Word" title="Data.Word">Word</a> <a href="src/OpenTracing.Reporting.Batch.html#boptTimeoutSec" class="link">Source</a> <a href="#v:boptTimeoutSec" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:boptReporter" class="def">boptReporter</a> :: <a href="../lens-4.17.1/Control-Lens-Type.html#t:Lens-39-" title="Control.Lens.Type">Lens'</a> <a href="OpenTracing-Reporting-Batch.html#t:BatchOptions" title="OpenTracing.Reporting.Batch">BatchOptions</a> ([<a href="OpenTracing-Span.html#t:FinishedSpan" title="OpenTracing.Span">FinishedSpan</a>] -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> ()) <a href="src/OpenTracing.Reporting.Batch.html#boptReporter" class="link">Source</a> <a href="#v:boptReporter" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:boptErrorLog" class="def">boptErrorLog</a> :: <a href="../lens-4.17.1/Control-Lens-Type.html#t:Lens-39-" title="Control.Lens.Type">Lens'</a> <a href="OpenTracing-Reporting-Batch.html#t:BatchOptions" title="OpenTracing.Reporting.Batch">BatchOptions</a> (<a href="../binary-0.8.6.0/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a> -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> ()) <a href="src/OpenTracing.Reporting.Batch.html#boptErrorLog" class="link">Source</a> <a href="#v:boptErrorLog" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:defaultErrorLog" class="def">defaultErrorLog</a> :: <a href="../binary-0.8.6.0/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a> -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/OpenTracing.Reporting.Batch.html#defaultErrorLog" class="link">Source</a> <a href="#v:defaultErrorLog" class="selflink">#</a></p><div class="doc"><p>An error logging function which prints to stderr.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:BatchEnv" class="def">BatchEnv</a> <a href="src/OpenTracing.Reporting.Batch.html#BatchEnv" class="link">Source</a> <a href="#t:BatchEnv" class="selflink">#</a></p><div class="doc"><p>The environment of a batch reporter.</p></div></div><div class="top"><p class="src"><a id="v:newBatchEnv" class="def">newBatchEnv</a> :: <a href="OpenTracing-Reporting-Batch.html#t:BatchOptions" title="OpenTracing.Reporting.Batch">BatchOptions</a> -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="OpenTracing-Reporting-Batch.html#t:BatchEnv" title="OpenTracing.Reporting.Batch">BatchEnv</a> <a href="src/OpenTracing.Reporting.Batch.html#newBatchEnv" class="link">Source</a> <a href="#v:newBatchEnv" class="selflink">#</a></p><div class="doc"><p>Create a new batch environment</p></div></div><div class="top"><p class="src"><a id="v:closeBatchEnv" class="def">closeBatchEnv</a> :: <a href="OpenTracing-Reporting-Batch.html#t:BatchEnv" title="OpenTracing.Reporting.Batch">BatchEnv</a> -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/OpenTracing.Reporting.Batch.html#closeBatchEnv" class="link">Source</a> <a href="#v:closeBatchEnv" class="selflink">#</a></p><div class="doc"><p>Close a batch reporter, stop consuming any new spans. Any
 spans in the queue will be drained.</p></div></div><div class="top"><p class="src"><a id="v:batchReporter" class="def">batchReporter</a> :: <a href="../base-4.12.0.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="OpenTracing-Reporting-Batch.html#t:BatchEnv" title="OpenTracing.Reporting.Batch">BatchEnv</a> -&gt; <a href="OpenTracing-Span.html#t:FinishedSpan" title="OpenTracing.Span">FinishedSpan</a> -&gt; m () <a href="src/OpenTracing.Reporting.Batch.html#batchReporter" class="link">Source</a> <a href="#v:batchReporter" class="selflink">#</a></p><div class="doc"><p>An implementation of <code><a href="OpenTracing-Tracer.html#v:tracerReport" title="OpenTracing.Tracer">tracerReport</a></code> that batches the finished
 spans for transimission to their destination.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>