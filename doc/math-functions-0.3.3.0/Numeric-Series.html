<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Numeric.Series</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Numeric.Series.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">math-functions-0.3.3.0: Collection of tools for numeric computations</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) 2016 Alexey Khudyakov</td></tr><tr><th>License</th><td>BSD3</td></tr><tr><th>Maintainer</th><td>alexey.skladnoy@gmail.com, bos@serpentine.com</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>portable</td></tr><tr><th>Safe Haskell</th><td>Safe</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Numeric.Series</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Data type for infinite sequences.</a></li><li><a href="#g:2">Constructors</a></li><li><a href="#g:3">Summation of series</a></li><li><a href="#g:4">Evaluation of continued fractions</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Functions for working with infinite sequences. In particular
 summation of series and evaluation of continued fractions.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:Sequence">Sequence</a> a = <a href="#v:Sequence">Sequence</a> s (s -&gt; (a, s))</li><li class="src short"><a href="#v:enumSequenceFrom">enumSequenceFrom</a> :: <a href="../base-4.12.0.0/Prelude.html#t:Num" title="Prelude">Num</a> a =&gt; a -&gt; <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> a</li><li class="src short"><a href="#v:enumSequenceFromStep">enumSequenceFromStep</a> :: <a href="../base-4.12.0.0/Prelude.html#t:Num" title="Prelude">Num</a> a =&gt; a -&gt; a -&gt; <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> a</li><li class="src short"><a href="#v:scanSequence">scanSequence</a> :: (b -&gt; a -&gt; b) -&gt; b -&gt; <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> a -&gt; <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> b</li><li class="src short"><a href="#v:sumSeries">sumSeries</a> :: <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> <a href="../base-4.12.0.0/Prelude.html#t:Double" title="Prelude">Double</a> -&gt; <a href="../base-4.12.0.0/Prelude.html#t:Double" title="Prelude">Double</a></li><li class="src short"><a href="#v:sumPowerSeries">sumPowerSeries</a> :: <a href="../base-4.12.0.0/Prelude.html#t:Double" title="Prelude">Double</a> -&gt; <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> <a href="../base-4.12.0.0/Prelude.html#t:Double" title="Prelude">Double</a> -&gt; <a href="../base-4.12.0.0/Prelude.html#t:Double" title="Prelude">Double</a></li><li class="src short"><a href="#v:sequenceToList">sequenceToList</a> :: <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> a -&gt; [a]</li><li class="src short"><a href="#v:evalContFractionB">evalContFractionB</a> :: <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> (<a href="../base-4.12.0.0/Prelude.html#t:Double" title="Prelude">Double</a>, <a href="../base-4.12.0.0/Prelude.html#t:Double" title="Prelude">Double</a>) -&gt; <a href="../base-4.12.0.0/Prelude.html#t:Double" title="Prelude">Double</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Data type for infinite sequences.</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Sequence" class="def">Sequence</a> a <a href="src/Numeric.Series.html#Sequence" class="link">Source</a> <a href="#t:Sequence" class="selflink">#</a></p><div class="doc"><p>Infinite series. It's represented as opaque state and step
   function.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Sequence" class="def">Sequence</a> s (s -&gt; (a, s))</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><details id="i:Sequence" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Sequence:Functor:1"></span> <a href="../base-4.12.0.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a></span> <a href="src/Numeric.Series.html#line-41" class="link">Source</a> <a href="#t:Sequence" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Sequence:Functor:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Numeric-Series.html">Numeric.Series</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> a -&gt; <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> b <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> b -&gt; <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> a <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Sequence:Applicative:2"></span> <a href="../base-4.12.0.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a></span> <a href="src/Numeric.Series.html#line-45" class="link">Source</a> <a href="#t:Sequence" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Sequence:Applicative:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Numeric-Series.html">Numeric.Series</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:pure">pure</a> :: a -&gt; <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> a <a href="#v:pure" class="selflink">#</a></p><p class="src"><a href="#v:-60--42--62-">(&lt;*&gt;)</a> :: <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> (a -&gt; b) -&gt; <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> a -&gt; <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> b <a href="#v:-60--42--62-" class="selflink">#</a></p><p class="src"><a href="#v:liftA2">liftA2</a> :: (a -&gt; b -&gt; c) -&gt; <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> a -&gt; <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> b -&gt; <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> c <a href="#v:liftA2" class="selflink">#</a></p><p class="src"><a href="#v:-42--62-">(*&gt;)</a> :: <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> a -&gt; <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> b -&gt; <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> b <a href="#v:-42--62-" class="selflink">#</a></p><p class="src"><a href="#v:-60--42-">(&lt;*)</a> :: <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> a -&gt; <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> b -&gt; <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> a <a href="#v:-60--42-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Sequence:Fractional:3"></span> <a href="../base-4.12.0.0/Prelude.html#t:Fractional" title="Prelude">Fractional</a> a =&gt; <a href="../base-4.12.0.0/Prelude.html#t:Fractional" title="Prelude">Fractional</a> (<a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> a)</span> <a href="src/Numeric.Series.html#line-70" class="link">Source</a> <a href="#t:Sequence" class="selflink">#</a></td><td class="doc"><p>Elementwise operations with sequences</p></td></tr><tr><td colspan="2"><details id="i:id:Sequence:Fractional:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Numeric-Series.html">Numeric.Series</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-47-">(/)</a> :: <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> a -&gt; <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> a -&gt; <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> a <a href="#v:-47-" class="selflink">#</a></p><p class="src"><a href="#v:recip">recip</a> :: <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> a -&gt; <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> a <a href="#v:recip" class="selflink">#</a></p><p class="src"><a href="#v:fromRational">fromRational</a> :: <a href="../base-4.12.0.0/Prelude.html#t:Rational" title="Prelude">Rational</a> -&gt; <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> a <a href="#v:fromRational" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Sequence:Num:4"></span> <a href="../base-4.12.0.0/Prelude.html#t:Num" title="Prelude">Num</a> a =&gt; <a href="../base-4.12.0.0/Prelude.html#t:Num" title="Prelude">Num</a> (<a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> a)</span> <a href="src/Numeric.Series.html#line-55" class="link">Source</a> <a href="#t:Sequence" class="selflink">#</a></td><td class="doc"><p>Elementwise operations with sequences</p></td></tr><tr><td colspan="2"><details id="i:id:Sequence:Num:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Numeric-Series.html">Numeric.Series</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-43-">(+)</a> :: <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> a -&gt; <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> a -&gt; <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> a <a href="#v:-43-" class="selflink">#</a></p><p class="src"><a href="#v:-45-">(-)</a> :: <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> a -&gt; <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> a -&gt; <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> a <a href="#v:-45-" class="selflink">#</a></p><p class="src"><a href="#v:-42-">(*)</a> :: <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> a -&gt; <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> a -&gt; <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> a <a href="#v:-42-" class="selflink">#</a></p><p class="src"><a href="#v:negate">negate</a> :: <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> a -&gt; <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> a <a href="#v:negate" class="selflink">#</a></p><p class="src"><a href="#v:abs">abs</a> :: <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> a -&gt; <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> a <a href="#v:abs" class="selflink">#</a></p><p class="src"><a href="#v:signum">signum</a> :: <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> a -&gt; <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> a <a href="#v:signum" class="selflink">#</a></p><p class="src"><a href="#v:fromInteger">fromInteger</a> :: <a href="../base-4.12.0.0/Prelude.html#t:Integer" title="Prelude">Integer</a> -&gt; <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> a <a href="#v:fromInteger" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:2" id="g:2"><h1>Constructors</h1></a><div class="top"><p class="src"><a id="v:enumSequenceFrom" class="def">enumSequenceFrom</a> :: <a href="../base-4.12.0.0/Prelude.html#t:Num" title="Prelude">Num</a> a =&gt; a -&gt; <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> a <a href="src/Numeric.Series.html#enumSequenceFrom" class="link">Source</a> <a href="#v:enumSequenceFrom" class="selflink">#</a></p><div class="doc"><p><code>enumSequenceFrom x</code> generate sequence:</p><p>\[ a_n = x + n \]</p></div></div><div class="top"><p class="src"><a id="v:enumSequenceFromStep" class="def">enumSequenceFromStep</a> :: <a href="../base-4.12.0.0/Prelude.html#t:Num" title="Prelude">Num</a> a =&gt; a -&gt; a -&gt; <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> a <a href="src/Numeric.Series.html#enumSequenceFromStep" class="link">Source</a> <a href="#v:enumSequenceFromStep" class="selflink">#</a></p><div class="doc"><p><code>enumSequenceFromStep x d</code> generate sequence:</p><p>\[ a_n = x + nd \]</p></div></div><div class="top"><p class="src"><a id="v:scanSequence" class="def">scanSequence</a> :: (b -&gt; a -&gt; b) -&gt; b -&gt; <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> a -&gt; <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> b <a href="src/Numeric.Series.html#scanSequence" class="link">Source</a> <a href="#v:scanSequence" class="selflink">#</a></p><div class="doc"><p>Analog of <code><a href="../base-4.12.0.0/GHC-List.html#v:scanl" title="GHC.List">scanl</a></code> for sequence.</p></div></div><a href="#g:3" id="g:3"><h1>Summation of series</h1></a><div class="top"><p class="src"><a id="v:sumSeries" class="def">sumSeries</a> :: <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> <a href="../base-4.12.0.0/Prelude.html#t:Double" title="Prelude">Double</a> -&gt; <a href="../base-4.12.0.0/Prelude.html#t:Double" title="Prelude">Double</a> <a href="src/Numeric.Series.html#sumSeries" class="link">Source</a> <a href="#v:sumSeries" class="selflink">#</a></p><div class="doc"><p>Calculate sum of series</p><p>\[ \sum_{i=0}^\infty a_i \]</p><p>Summation is stopped when</p><p>\[ a_{n+1} &lt; \varepsilon\sum_{i=0}^n a_i \]</p><p>where &#949; is machine precision (<code><a href="Numeric-MathFunctions-Constants.html#v:m_epsilon" title="Numeric.MathFunctions.Constants">m_epsilon</a></code>)</p></div></div><div class="top"><p class="src"><a id="v:sumPowerSeries" class="def">sumPowerSeries</a> :: <a href="../base-4.12.0.0/Prelude.html#t:Double" title="Prelude">Double</a> -&gt; <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> <a href="../base-4.12.0.0/Prelude.html#t:Double" title="Prelude">Double</a> -&gt; <a href="../base-4.12.0.0/Prelude.html#t:Double" title="Prelude">Double</a> <a href="src/Numeric.Series.html#sumPowerSeries" class="link">Source</a> <a href="#v:sumPowerSeries" class="selflink">#</a></p><div class="doc"><p>Calculate sum of series</p><p>\[ \sum_{i=0}^\infty x^ia_i \]</p><p>Calculation is stopped when next value in series is less than
 &#949;&#183;sum.</p></div></div><div class="top"><p class="src"><a id="v:sequenceToList" class="def">sequenceToList</a> :: <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> a -&gt; [a] <a href="src/Numeric.Series.html#sequenceToList" class="link">Source</a> <a href="#v:sequenceToList" class="selflink">#</a></p><div class="doc"><p>Convert series to infinite list</p></div></div><a href="#g:4" id="g:4"><h1>Evaluation of continued fractions</h1></a><div class="top"><p class="src"><a id="v:evalContFractionB" class="def">evalContFractionB</a> :: <a href="Numeric-Series.html#t:Sequence" title="Numeric.Series">Sequence</a> (<a href="../base-4.12.0.0/Prelude.html#t:Double" title="Prelude">Double</a>, <a href="../base-4.12.0.0/Prelude.html#t:Double" title="Prelude">Double</a>) -&gt; <a href="../base-4.12.0.0/Prelude.html#t:Double" title="Prelude">Double</a> <a href="src/Numeric.Series.html#evalContFractionB" class="link">Source</a> <a href="#v:evalContFractionB" class="selflink">#</a></p><div class="doc"><p>Evaluate continued fraction using modified Lentz algorithm.
 Sequence contain pairs (a[i],b[i]) which form following expression:</p><p>\[
 b_0 + \frac{a_1}{b_1+\frac{a_2}{b_2+\frac{a_3}{b_3 + \cdots}}}
 \]</p><p>Modified Lentz algorithm is described in Numerical recipes 5.2
 &quot;Evaluation of Continued Fractions&quot;</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>